---
title:  Elements DTD
parent: 1.1.- DTD - Document Type Definition
grand_parent: 1.- XML i DTD
has_children: true
layout: default
nav_order: 10
has_toc: true
---




# Elements en un DTD

La declaraci√≥ d‚Äôelements en un DTD defineix **qu√® pot contindre cada element** d‚Äôun document XML.

### 1 Sintaxi general

<style>
.dtd .elementdecl   { color:#1d4ed8; font-weight:600; }  /* ELEMENT */
.dtd .nom_element   { color:#059669; font-weight:600; }  /* nom_element */
.dtd .tipus         { color:#ea580c; font-weight:600; }  /* tipus_contingut */
</style>

<pre class="dtd"><code>
&lt;!<span class="elementdecl">ELEMENT</span> <span class="nom_element">nom_element</span> <span class="tipus">tipus_contingut</span> &gt;
</code></pre>

<p><strong>On:</strong></p>

<ul class="dtd">
  <li><span class="elementdecl">ELEMENT</span> : Declaraci√≥ de marca per a definir un element.</li>
  <li><span class="nom_element">nom_element</span> : Nom de l‚Äôelement que estem definint.</li>
  <li><span class="tipus">tipus_contingut</span> : Tipus de contingut perm√©s dins de l‚Äôelement.</li>
</ul>

```markdown
<!--
<!ELEMENT nom_element tipus_contingut>

On:

1. `<!ELEMENT` : Declaraci√≥ de marca per a definir un element.
2. **nom_element** : Nom de l‚Äôelement que estem definint.
3. **tipus_contingut** : Tipus de contingut perm√©s dins de l‚Äôelement.
-->

```


- **Exemple:**

```dtd
<!ELEMENT receta (titulo, ingredientes, procedimiento)>

```

Aix√≤ significa que `<receta>` **ha de contindre exactament i en aquest ordre** tres subelements: `<titulo>`, `<ingredientes>` i `<procedimiento>`.

- **Exemple XML v√†lid**

```xml
<receta>
  <titulo>Pizza</titulo>
  <ingredientes>Farina, tomaca, formatge...</ingredientes>
  <procedimiento>Pastar, enfornar i servir.</procedimiento>
</receta>
```

- **Exemple XML inv√†lid**

En aquest cas hem afegit un element `<parrafo>` que **no est√† declarat al DTD**:

```xml
<receta>
  <parrafo>Aix√≤ √©s un par√†graf</parrafo>
  <titulo>Pizza</titulo>
  <ingredientes>Farina, tomaca, formatge...</ingredientes>
  <procedimiento>Pastar, enfornar i servir.</procedimiento>
</receta>
```

A√ß√≤ provocaria que el document fora **no v√†lid** encara que estiga ben format.

---

### Important...

* El DTD √©s **rigor√≥s**: si definim un element amb una seq√º√®ncia concreta, no podem canviar l‚Äôordre ni afegir elements no previstos.
* Si volem flexibilitat (opcions o repeticions), cal utilitzar **models de contingut** amb operadors (`|`, `?`, `*`, `+`) que es veuran en l‚Äôapartat seg√ºent.
* √âs recomanable que els noms dels elements siguen **autoexplicatius**, per a millorar la claredat dels documents XML.

---


### 2. Tipus de contingut dels elements

En un DTD, el **tipus de contingut** especifica qu√® pot apar√©ixer dins d‚Äôun element.
Podem distingir diversos casos:

---

**1.- Text**

S‚Äôindica amb `#PCDATA` (*Parsed Character Data*).
Vol dir que l‚Äôelement nom√©s pot contindre **text lliure**, sense subelements.

```dtd
<!ELEMENT cotxe (#PCDATA)>
```

Exemple XML v√†lid:

```xml
<cotxe>Toyota Corolla</cotxe>
```

---

**2. EMPTY** (Buit)

L‚Äôelement **no pot tindre contingut**, per√≤ s√≠ pot tindre **atributs**.
S‚Äôutilitza per a elements que actuen com a **marques de posici√≥** o senyals.

```dtd
<!ELEMENT linia_de_separacio EMPTY>
```

Exemple XML:

```xml
<linia_de_separacio/>
```

---

**3. ANY**

L‚Äôelement pot contindre **qualsevol cosa**: text, subelements o una combinaci√≥.
No √©s habitual fer-lo servir perqu√® **trenca la validaci√≥ estricta**.

```dtd
<!ELEMENT batiburrillo ANY>
```

---

**4. contingut mixt (Mixed)**

Barreja de **text i subelements**.
La sintaxi ha d‚Äôincloure sempre `#PCDATA` i utilitzar `|` i `*`.

```dtd
<!ELEMENT parrafo (#PCDATA | enfasis)*>
<!ELEMENT enfasis (#PCDATA)>
```

Exemple XML v√†lid:

```xml
<parrafo>
  Aquest √©s un text amb <enfasis>paraules destacades</enfasis> dins.
</parrafo>
```

> Nota: En DTD, en contingut mixt **no es poden usar comes (,) ni quantificadors diferents de `*`**.

---

**5. Tipus element (subelements concrets)**

L‚Äôelement nom√©s pot contindre els subelements que indiquem al model de contingut, en un ordre determinat.

```dtd
<!ELEMENT article (titol, autor, contingut)>
```

Exemple XML v√†lid:

```xml
<article>
  <titol>Not√≠cies d‚Äôavui</titol>
  <autor>Maria P√©rez</autor>
  <contingut>El text de la not√≠cia...</contingut>
</article>
```

Exemple **inv√†lid** (ordre incorrecte):

```xml
<article>
  <autor>Maria P√©rez</autor>
  <titol>Not√≠cies d‚Äôavui</titol>
  <contingut>El text de la not√≠cia...</contingut>
</article>
```

---

### Resum:

| Tipus       | Definici√≥                              | Exemple DTD                                    | Exemple XML v√†lid                          |                                                |
| ----------- | -------------------------------------- | ---------------------------------------------- | ------------------------------------------ | ---------------------------------------------- |
| `#PCDATA`   | Nom√©s text                             | `<!ELEMENT cotxe (#PCDATA)>`                   | `<cotxe>Toyota Corolla</cotxe>`            |                                                |
| `EMPTY`     | Sense contingut (per√≤ amb atributs)    | `<!ELEMENT linia_de_separacio EMPTY>`          | `<linia_de_separacio/>`                    |                                                |
| `ANY`       | Qualsevol contingut                    | `<!ELEMENT batiburrillo ANY>`                  | `<batiburrillo>Qualsevol</batiburrillo>`   |                                                |
| **Mixt**    | Text + subelements, en qualsevol ordre | \`\<!ELEMENT parrafo (#PCDATA                  | enfasis)\*>\`                              | `<parrafo>text <enfasis>x</enfasis></parrafo>` |
| **Element** | Seq√º√®ncia de subelements concrets      | `<!ELEMENT article (titol, autor, contingut)>` | `<article><titol>...</titol>...</article>` |                                                |

---

### 3. Models de contingut

Els **models de contingut** especifiquen com s‚Äôorganitzen els subelements dins d‚Äôun element.
En un DTD podem indicar **seq√º√®ncies**, **opcions** i combinar-les amb **quantificadors**.

---

**1.- Element simple**

L‚Äôelement pot contindre **nom√©s un subelement**.

```dtd
<!ELEMENT aviso (parrafo)>
```

Exemple v√†lid:

```xml
<aviso>
  <parrafo>Aquest √©s un av√≠s.</parrafo>
</aviso>
```

Exemple inv√†lid (faltaria `<parrafo>`):

```xml
<aviso>Text directe</aviso>
```

---

**2.- Seq√º√®ncia**

S‚Äôusa la **coma ( , )** per indicar que els subelements han d‚Äôapar√©ixer **en eixe ordre**.

```dtd
<!ELEMENT aviso (titulo, parrafo)>
```

Exemple v√†lid:

```xml
<aviso>
  <titulo>Important</titulo>
  <parrafo>Aix√≤ √©s un av√≠s seq√ºenciat.</parrafo>
</aviso>
```

Exemple inv√†lid (canvi d‚Äôordre):

```xml
<aviso>
  <parrafo>Aix√≤ no √©s v√†lid.</parrafo>
  <titulo>Important</titulo>
</aviso>
```

---

**3.- Opci√≥ (alternatives)**

S‚Äôusa la **barra vertical ( `|` )** per indicar que es pot triar **un dels elements**.

```dtd
<!ELEMENT aviso (parrafo | grafico)>
```

Exemple amb `<parrafo>`:

```xml
<aviso>
  <parrafo>Av√≠s escrit.</parrafo>
</aviso>
```

Exemple amb `<grafico>`:

```xml
<aviso>
  <grafico>imatge.png</grafico>
</aviso>
```

Exemple inv√†lid (apareixen els dos a la vegada):

```xml
<aviso>
  <parrafo>Av√≠s escrit.</parrafo>
  <grafico>imatge.png</grafico>
</aviso>
```

---

**4.- Combinaci√≥ amb agrupacions**

Podem usar **par√®ntesis** per combinar seq√º√®ncies i opcions.

```dtd
<!ELEMENT aviso (titulo, (parrafo | grafico))>
```

Interpretaci√≥: `<aviso>` ha de contindre **un `<titulo>`** seguit de **un `<parrafo>` o un `<grafico>`**.

Exemple v√†lid:

```xml
<aviso>
  <titulo>Av√≠s</titulo>
  <parrafo>Text de l‚Äôav√≠s</parrafo>
</aviso>
```

---


**5.- Quantificadors**

  * `?` ‚Üí 0 o 1 vegada.
  * `*` ‚Üí 0 o m√©s vegades.
  * `+` ‚Üí 1 o m√©s vegades.

---


### 4. Quantificadors

Els quantificadors permeten indicar **quantes vegades** pot apar√©ixer un element dins d‚Äôun model de contingut.

Els quantificadors m√©s comuns s√≥n:

* `?` ‚Üí **Zero o una vegada** (opcional).

  ```dtd
  <!ELEMENT subtitol (parrafo?)>
  ```

  Exemple XML v√†lid:

  ```xml
    <subtitol/>
  ```
 
  ```xml  
    <subtitol>
        <parrafo>Un subt√≠tol curt</parrafo>
    </subtitol>
  ```


* `*` ‚Üí **Zero o m√©s vegades**.

  ```dtd
  <!ELEMENT llista (element*)>
  ```

  Exemple XML v√†lid:

  ```xml
  <llista/>
  ```

  ```xml
  <llista>
    <element>A</element>
    <element>B</element>
  </llista>
  ```

* `+` ‚Üí **Una o m√©s vegades** (m√≠nim una).

```dtd
<!ELEMENT paragrafs (parrafo+)>
```

  Exemple XML v√†lid:

  ```xml
  <paragrafs>
    <parrafo>Primer</parrafo>
   </paragrafs>
    ```

  ```xml
  <paragrafs>
    <parrafo>Un</parrafo>
    <parrafo>Dos</parrafo>
  </paragrafs>
  ```

---

### Exemple combinat:

```dtd
<!ELEMENT aviso (titulo?, (parrafo+, grafico))>
```

**Interpretaci√≥:**

* `<titulo>` ‚Üí pot apar√©ixer **0 o 1 vegada**.
* `<parrafo>` ‚Üí ha d‚Äôapar√©ixer **almenys una vegada**.
* `<grafico>` ‚Üí ha d‚Äôapar√©ixer **exactament una vegada**, i sempre despr√©s dels par√†grafs.

Exemples XML v√†lids:

```xml
<aviso>
  <parrafo>Primer av√≠s</parrafo>
  <grafico>imatge.png</grafico>
</aviso>
```

```xml
<aviso>
  <titulo>Important</titulo>
  <parrafo>Detall 1</parrafo>
  <parrafo>Detall 2</parrafo>
  <grafico>diagrama.png</grafico>
</aviso>
```

Exemple XML inv√†lid (perqu√® falta `<grafico>`):

```xml
<aviso>
  <titulo>Error</titulo>
  <parrafo>No hi ha gr√†fic</parrafo>
</aviso>
```

---


### Taula resum de models de contingut

| Model DTD                        | Significat                                         | Exemple XML v√†lid                      |                               |
| -------------------------------- | -------------------------------------------------- | -------------------------------------- | ----------------------------- |
| `(A,B)`                          | Seq√º√®ncia: A seguit de B                           | `<x><A/><B/></x>`                      |                               |
| \`(A                             | B)\`                                               | Opci√≥: A **o** B                       | `<x><A/></x>` o `<x><B/></x>` |
| `A?`                             | Opcional: 0 o 1 A                                  | `<x/>` o `<x><A/></x>`                 |                               |
| `A*`                             | 0 o m√©s vegades                                    | `<x/>`, `<x><A/><A/></x>`              |                               |
| `A+`                             | 1 o m√©s vegades                                    | `<x><A/></x>`, `<x><A/><A/></x>`       |                               |
| `(titulo?, (parrafo+, grafico))` | Opcional `<titulo>`, 1+ `<parrafo>`, 1 `<grafico>` | `<aviso><parrafo/>‚Ä¶<grafico/></aviso>` |                               |

---

Ent√©s! üëç

El t√≠tol **‚ÄúGuia r√†pida‚Äù** pot sonar massa informal. Per a uns apunts acad√®mics, et propose alternatives que sonen m√©s **clares i serioses**:

* **Resum de la secci√≥**
* **Annex d‚Äôexemples**
* **S√≠ntesi final**
* **Quadre resum**
* **Exemples de rep√†s**

Jo et recomanaria **‚ÄúResum de la secci√≥‚Äù**, perqu√® √©s clar, formal i coherent amb la resta del document. Si vols remarcar que √©s sobretot pr√†ctic, tamb√© pots usar **‚ÄúAnnex d‚Äôexemples‚Äù**.

Ac√≠ tens la part polida segons les meues millores, amb el t√≠tol com **Resum de la secci√≥**:

---

## Resum i exemples pr√†ctics

Els **elements** s√≥n la base del DTD i permeten definir quines etiquetes poden apar√©ixer, en quin ordre i amb quina cardinalitat.

### Tipus de definici√≥

| Sintaxi                        | Significat                                              |
| ------------------------------ | ------------------------------------------------------- |
| `<!ELEMENT nom (subelements)>` | Defineix l‚Äôelement i els subelements que pot contindre. |
| `#PCDATA`                      | Text lliure dins d‚Äôun element.                          |
| `EMPTY`                        | Element buit (sense contingut).                         |
| `ANY`                          | Pot contindre qualsevol cosa (altres elements o text).  |

---

### Quantificadors principals

| Quantificador | Significat                    |
| ------------- | ----------------------------- |
| `?`           | Zero o una vegada (opcional). |
| `*`           | Zero o m√©s vegades.           |
| `+`           | Una o m√©s vegades.            |

---


## Exemples pr√†ctics

#### 1. Elements obligatoris

```dtd
<!ELEMENT article (titol, autor, contingut)>
<!ELEMENT titol (#PCDATA)>
<!ELEMENT autor (#PCDATA)>
<!ELEMENT contingut (#PCDATA)>
```

Cada `<article>` ha de tindre exactament un `<titol>`, un `<autor>` i un `<contingut>`.

**XML v√†lid:**

```xml
<article>
  <titol>Not√≠cia d‚Äôavui</titol>
  <autor>Maria P√©rez</autor>
  <contingut>Text complet de la not√≠cia.</contingut>
</article>
```

**XML inv√†lid (falta `<autor>`):**

```xml
<article>
  <titol>Not√≠cia d‚Äôavui</titol>
  <contingut>Text complet de la not√≠cia.</contingut>
</article>
```

---

#### 2. √ös de quantificadors

```dtd
<!ELEMENT revista (article+)>
<!ELEMENT article (titol, autor?, contingut+)>
<!ELEMENT titol (#PCDATA)>
<!ELEMENT autor (#PCDATA)>
<!ELEMENT contingut (#PCDATA)>
```

* Una `<revista>` ha de tindre almenys un `<article>`.
* L‚Äô`<autor>` √©s opcional.
* El `<contingut>` ha d‚Äôapar√©ixer almenys una vegada.

**XML v√†lid:**

```xml
<revista>
  <article>
    <titol>Entrevista</titol>
    <contingut>Primera part</contingut>
    <contingut>Segona part</contingut>
  </article>
</revista>
```

**XML inv√†lid (sense `<contingut>`):**

```xml
<revista>
  <article>
    <titol>Entrevista</titol>
  </article>
</revista>
```

---

#### 3. Exemple amb m√∫ltiples llibres

```dtd
<!ELEMENT biblioteca (llibre*)>
<!ELEMENT llibre (titol, autor, any)>
<!ELEMENT titol (#PCDATA)>
<!ELEMENT autor (#PCDATA)>
<!ELEMENT any (#PCDATA)>
```

Una `<biblioteca>` pot tindre cap o molts `<llibre>`.
Cada `<llibre>` ha de contindre un `<titol>`, un `<autor>` i un `<any>`.

**XML v√†lid:**

```xml
<biblioteca>
  <llibre>
    <titol>1984</titol>
    <autor>George Orwell</autor>
    <any>1949</any>
  </llibre>
  <llibre>
    <titol>Crim i c√†stig</titol>
    <autor>Fi√≥dor Dostoievski</autor>
    <any>1866</any>
  </llibre>
</biblioteca>
```

**XML inv√†lid (falta `<any>`):**

```xml
<biblioteca>
  <llibre>
    <titol>1984</titol>
    <autor>George Orwell</autor>
  </llibre>
</biblioteca>
```

---

#### 4. Exemple relacionat amb l‚Äôexemple inicial (llibres)

```dtd
<!ELEMENT llibres (llibre+)>
<!ELEMENT llibre (titol, autor, publicacio)>
<!ELEMENT titol (#PCDATA)>
<!ELEMENT autor (#PCDATA)>
<!ELEMENT publicacio (#PCDATA)>
```

XML v√†lid segons este DTD:

```xml
<llibres>
  <llibre>
    <titol>El Arte de la Guerra</titol>
    <autor>Sun Tzu</autor>
    <publicacio>200 a.C.</publicacio>
  </llibre>
</llibres>
```

**XML inv√†lid (canvi d‚Äôordre):**

```xml
<llibres>
  <llibre>
    <autor>Sun Tzu</autor>
    <titol>El Arte de la Guerra</titol>
    <publicacio>200 a.C.</publicacio>
  </llibre>
</llibres>
```

---

#### 5. Exemple amb ordre i opcionalitat

```dtd
<!ELEMENT llibre (titol, publicacio, autor, editorial?)>
<!ELEMENT titol (#PCDATA)>
<!ELEMENT autor (#PCDATA)>
<!ELEMENT publicacio (#PCDATA)>
<!ELEMENT editorial (#PCDATA)>
```

* L‚Äôordre dels subelements √©s obligatori.
* `<editorial>` √©s opcional.

**XML v√†lid (amb `<editorial>`):**

```xml
<llibre>
  <titol>La pla√ßa del Diamant</titol>
  <publicacio>1962</publicacio>
  <autor>Merc√® Rodoreda</autor>
  <editorial>Club Editor</editorial>
</llibre>
```

**XML v√†lid (sense `<editorial>`):**

```xml
<llibre>
  <titol>La pla√ßa del Diamant</titol>
  <publicacio>1962</publicacio>
  <autor>Merc√® Rodoreda</autor>
</llibre>
```

**XML inv√†lid (ordre incorrecte):**

```xml
<llibre>
  <titol>La pla√ßa del Diamant</titol>
  <autor>Merc√® Rodoreda</autor>
  <publicacio>1962</publicacio>
</llibre>
```

---

## Conclusions

* Els elements definixen l‚Äô**estructura** d‚Äôun XML.
* Amb els **quantificadors** podem controlar opcionalitat i repeticions.
* L‚Äôordre dels subelements **sempre importa**.
* El DTD nom√©s controla **estructura**, no tipus de dades.

---

